<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow">
        <div class="card-header card-header-bg-color py-3 text-white">
          <h3 class="card-title mb-0 fw-semibold">
            <i>{{ isEditMode ? 'Edit ' : 'Add New ' }} Transaction</i>
          </h3>
        </div>

        <div class="card-body p-4">
          <form [formGroup]="transactionForm" (ngSubmit)="onSubmit()">
            <!-- Transaction Type -->
            <div class="mb-4">
              <label for="type" class="form-label fw-medium"><i>Type</i></label>
              <select class="form-select form-select-lg" id="type" formControlName="type" (change)="onTypeChange()">
                <option value="Income"><i>Income</i></option>
                <option value="Expense"><i>Expense</i></option>
              </select>
            </div>

            <!-- Transaction Category -->
            <div class="mb-4">
              <label for="category" class="form-label fw-medium"><i>Category</i></label>
              <select class="form-select form-select-lg" id="category" formControlName="category">
                @for(category of availableCategories; track category) {
                  <option [value]="category"><i>{{ category }}</i></option>
                } @empty {
                  <option disabled><i>No categories available</i></option>
                }
              </select>
            </div>

            <!-- Transaction Amount -->
             <div class="mb-4">
               <label for="amount" class="form-label fw-medium"><i>Amount</i></label>
              <div class="input-group">
                <span class="input-group-text">â‚¬</span>
                <input type="number" class="form-control form-control-lg" id="amount" formControlName="amount" placeholder="0.00"/>
              </div>
            </div>

            <!-- Transaction Creation Date -->
            <div class="mb-4">
              <label for="createdAt" class="form-label fw-medium"><i>Date</i></label>
              @if(isEditMode) {
                <input type="date" class="form-control form-control-lg" id="createdAt" formControlName="createdAt" [value]="transactionForm.get('createdAt')?.value | date : 'yyyy-MM-dd'" />
              } @else {
                <input type="date" class="form-control form-control-lg" id="createdAt" formControlName="createdAt"/>
              }
            </div>

            <!-- Form Actions -->
            <div class="d-flex gap-3 justify-content-center mt-4">
              <button type="button" class="btn btn-secondary btn-md px-4" (click)="cancel()">
                <i><strong>Cancel</strong></i>
              </button>
              <button type="submit" class="btn btn-submit-bg-color btn-md px-4 text-white" [disabled]="transactionForm.invalid">
                <i><strong>{{  isEditMode ? 'Update' : 'Save' }} Transaction</strong></i>
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
